{{ define "main" }}
<article class="vinyl-single">
  <header class="vinyl-header">
    {{ with .Params.cover }}
    <div class="vinyl-cover-large">
      <img src="{{ . }}" alt="{{ $.Params.album }} cover">
    </div>
    {{ end }}
    
    <div class="vinyl-details">
      <h1 class="vinyl-album">{{ .Params.album }}</h1>
      <p class="vinyl-artist">{{ .Params.artist }}</p>
      
      <dl class="vinyl-meta">
        {{ with .Params.year }}
        <dt>Year</dt>
        <dd>{{ . }}</dd>
        {{ end }}
        
        {{ with .Params.format }}
        <dt>Format</dt>
        <dd>{{ . }}</dd>
        {{ end }}
        
        {{ with .Params.label }}
        <dt>Label</dt>
        <dd>{{ . }}</dd>
        {{ end }}
        
        {{ with .Params.genres }}
        <dt>Genres</dt>
        <dd>{{ delimit . ", " }}</dd>
        {{ end }}
      </dl>
    </div>
  </header>

  {{ with .Params.description }}
  <section class="vinyl-description">
    <h2>About This Album</h2>
    <div class="vinyl-description-content">{{ . | markdownify }}</div>
  </section>
  {{ end }}

  {{ with .Params.pictures }}
  <section class="vinyl-pictures">
    <h2>Additional Pictures</h2>
    <div class="vinyl-gallery">
      {{ range . }}
        <a href="{{ . }}" class="vinyl-gallery-item">
          <img src="{{ . }}" alt="Album picture" loading="lazy">
        </a>
      {{ end }}
    </div>
  </section>
  {{ end }}

  {{ with .Params.notes }}
  <section class="vinyl-notes">
    <h2>Notes</h2>
    <p>{{ . }}</p>
  </section>
  {{ end }}

  {{ with .Content }}
  <section class="vinyl-content">
    {{ . }}
  </section>
  {{ end }}

  <footer class="vinyl-footer">
    <a href="{{ "vinyl" | relURL }}">&larr; Back to Collection</a>
  </footer>
</article>
{{ end }}
