{{ define "main" }}
<div class="vinyl-collection">
  <h1>{{ .Site.Params.vinyl_page_title | default "Vinyl Collection" }}</h1>
  
  {{ $vinylPages := where .Site.Pages "Params.type" "vinyl" }}
  
  <div class="vinyl-stats">
    <p>{{ len $vinylPages }} records in collection</p>
  </div>

  <div class="vinyl-grid">
    {{ range $vinylPages }}
    <article class="vinyl-record">
      {{ with .Params.cover }}
      <div class="vinyl-cover">
        <img src="{{ . }}" alt="{{ $.Params.album }} cover" loading="lazy">
      </div>
      {{ end }}
      <div class="vinyl-info">
        <h2 class="vinyl-album">{{ .Params.album | default .Title }}</h2>
        <p class="vinyl-artist">{{ .Params.artist }}</p>
        {{ with .Params.year }}<p class="vinyl-year">{{ . }}</p>{{ end }}
        <div class="vinyl-meta-tags">
          {{ with .Params.format }}<span class="vinyl-format">{{ . }}</span>{{ end }}
          {{ with .Params.genres }}
            {{ range . }}
              <span class="vinyl-genre">{{ . }}</span>
            {{ end }}
          {{ end }}
        </div>
      </div>
      <a href="{{ .Permalink }}" class="vinyl-link">View Details</a>
    </article>
    {{ end }}
  </div>
</div>
{{ end }}
